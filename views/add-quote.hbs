<div class="container">
    <div class="page-header">
        <h1>‚ú® Add New Quote</h1>
        <a href="/home" class="btn btn-secondary">‚Üê Back to Quotes</a>
    </div>

    <form action="/add-quote" method="POST" class="quote-form">
        <div class="form-group">
            <label for="quoteText">Quote *</label>
            <textarea 
                id="quoteText" 
                name="quoteText" 
                rows="4" 
                required
                placeholder="Enter the funny quote here..."
            ></textarea>
        </div>

        <div class="form-group">
            <label for="personName">Who said it? *</label>
            <select id="personSelect" name="personName" required>
                <option value="">-- Select a person --</option>
                {{#each people}}
                    <option value="{{this}}">{{this}}</option>
                {{/each}}
                <option value="__new__">‚ûï Add New Person</option>
            </select>
            
            <input 
                type="text" 
                id="newPersonInput" 
                name="newPersonName" 
                placeholder="Enter new person's name"
                style="display: none; margin-top: 0.75rem;"
            >
        </div>

        <div class="form-group">
            <label for="location">Where did this happen?</label>
            <input 
                type="text" 
                id="location" 
                name="location"
                placeholder="Location (optional)"
            >
        </div>

        <div class="form-group">
            <label for="date">Date</label>
            <input 
                type="date" 
                id="date" 
                name="date"
            >
        </div>

        <button type="submit" class="btn btn-primary btn-large">üíæ Save Quote</button>
    </form>
</div>

<script>
    // Show/hide new person input based on selection
    const personSelect = document.getElementById('personSelect');
    const newPersonInput = document.getElementById('newPersonInput');
    
    personSelect.addEventListener('change', function() {
        if (this.value === '__new__') {
            newPersonInput.style.display = 'block';
            newPersonInput.required = true;
            this.required = false;
        } else {
            newPersonInput.style.display = 'none';
            newPersonInput.required = false;
            this.required = true;
        }
    });
</script>